webpackJsonp([19],{qhXZ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Dd8w"),n=a.n(s),r=a("Xxa5"),i=a.n(r),l=a("exGp"),o=a.n(l),c=a("teIl"),u=a("/mXm"),d=a("H868"),h=a("NYxO"),f=a("P9l9"),p=a("vsZy"),v={name:"Share",components:{VHeader:c.a,Scroll:d.a,Recomment:u.a},mixins:[p.a],data:function(){return{shareList:[],userId:""}},activated:function(){this.hasTitle=!1,this.userId=this.$route.query.uid},watch:{userId:function(){this.getEntryBySelf(!0)}},methods:{getEntryBySelf:function(t){var e=this;return o()(i.a.mark(function a(){var s,n,r,l,o,c,u,d,h,p,v,m,y;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return s=e.auth?e.auth:{},n=s.token,r=void 0===n?"":n,l=s.uid,o=void 0===l?"unlogin":l,c=s.device_id,u=void 0===c?"":c,d=e.$route.query.uid,(h=e.shareList).length&&!t||(h=[{createdAt:""}]),p=h.slice(-1)[0].createdAt||"",v={params:{uid:o,token:r,device_id:u,targetUid:d,before:p,limit:20,order:"createdAt",src:"ios",type:"article"}},a.next=8,f.a.getEntryBySelf(v);case 8:1===(m=a.sent).s&&(y=m.d.entrylist?m.d.entrylist:[],e.shareList=t?y:e.shareList.concat(y.slice(1)));case 10:case"end":return a.stop()}},a,e)}))()},handleGoBack:function(){this.$router.go(-1)},handlePullDown:function(){this.getEntryBySelf(!0)},handlePullUp:function(){this.getEntryBySelf()}},computed:n()({},Object(h.b)(["auth"]))},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tag"},[a("v-header",{attrs:{title:"分享文章"},on:{goBack:t.handleGoBack}}),t._v(" "),t.shareList.length?a("scroll",{ref:"scroll",staticClass:"scroll",attrs:{data:t.shareList,scrollbar:t.scrollbarObj,pullDownRefresh:t.pullDownRefreshObj,pullUpLoad:t.pullUpLoadObj},on:{pullingDown:t.handlePullDown,pullingUp:t.handlePullUp}},[a("recomment",{attrs:{hasTitle:t.hasTitle,recomment:t.shareList}})],1):a("div",{staticClass:"no-more"},[a("div",{staticClass:"icon"},[a("svg-icon",{attrs:{iconClass:"file"}})],1),t._v(" "),a("p",{staticClass:"text"},[t._v("没有分享过任何文章呢")])])],1)},staticRenderFns:[]};var y=a("VU/8")(v,m,!1,function(t){a("sIRK")},"data-v-1beaf892",null);e.default=y.exports},sIRK:function(t,e){}});
//# sourceMappingURL=19.3ab25f04e9cc3bcff9d2.js.map