webpackJsonp([3],{XzY5:function(t,e,a){"use strict";var s=a("oAV5"),i={props:{timeline:{type:Array,default:function(){return[]}}},filters:{splitTag:function(t){return t.slice(0,2).map(function(t,e){return t.title}).join("/")}},methods:{handleToDetail:function(t){var e=Object(s.c)(t.originalUrl),a=t.objectId,i=t.type,n={id:"post"===i?e:a,type:i};this.$emit("toDetail",n)},handleToHomePage:function(t){var e=t.user.objectId;this.$emit("toHomePage",e)}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",t._l(t.timeline,function(e){return a("li",{key:e.objectId,staticClass:"list"},[a("div",{staticClass:"panel"},[a("div",{staticClass:"header"},[a("div",{staticClass:"header_left",on:{click:function(a){t.handleToHomePage(e)}}},[a("div",{staticClass:"avatar"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.user.avatarLarge,expression:"item.user.avatarLarge"}]})]),t._v(" "),a("div",{staticClass:"name"},[t._v("\n            "+t._s(e.user.username)+"\n          ")])]),t._v(" "),a("div",{staticClass:"header_right",on:{click:function(a){t.handleToDetail(e)}}},[a("span",[t._v(t._s(t._f("splitTag")(e.tags)))])])]),t._v(" "),a("div",{staticClass:"content",on:{click:function(a){t.handleToDetail(e)}}},[a("div",{staticClass:"content_left"},[a("h4",[t._v(t._s(e.title))]),t._v(" "),a("div",{staticClass:"text"},[a("p",[t._v(t._s(e.content))])])]),t._v(" "),e.screenshot?a("div",{staticClass:"content_right"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.screenshot,expression:"item.screenshot"}]})]):t._e()]),t._v(" "),a("div",{staticClass:"bar"},[a("div",{staticClass:"like"},[a("span",{staticClass:"icon"},[a("svg-icon",{attrs:{iconClass:"dianzan"}})],1),t._v(" "),e.collectionCount?a("span",{staticClass:"text"},[t._v(t._s(e.collectionCount))]):a("span",{staticClass:"text"},[t._v("点赞")])]),t._v(" "),a("div",{staticClass:"comment"},[a("span",{staticClass:"icon"},[a("svg-icon",{attrs:{iconClass:"pinlun"}})],1),t._v(" "),e.commentsCount?a("span",{staticClass:"text"},[t._v(t._s(e.commentsCount))]):a("span",{staticClass:"text"},[t._v("评论")])])])])])}))},staticRenderFns:[]};var l=a("VU/8")(i,n,!1,function(t){a("tLoY")},"data-v-7becfade",null);e.a=l.exports},Zy4N:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Dd8w"),i=a.n(s),n=a("Xxa5"),l=a.n(n),r=a("exGp"),o=a.n(r),c=a("teIl"),u=a("XzY5"),d=a("H868"),v=a("NYxO"),p=a("P9l9"),f=a("vsZy"),h={name:"Original",components:{VHeader:c.a,ItemPanel:u.a,Scroll:d.a},mixins:[f.a],data:function(){return{originalList:[],userId:""}},activated:function(){this.userId=this.$route.query.uid},watch:{userId:function(){this.getEntryBySelf(!0)}},methods:{getEntryBySelf:function(t){var e=this;return o()(l.a.mark(function a(){var s,i,n,r,o,c,u,d,v,f,h,_,m;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return s=e.auth?e.auth:{},i=s.token,n=void 0===i?"":i,r=s.uid,o=void 0===r?"unlogin":r,c=s.device_id,u=void 0===c?"":c,d=e.$route.query.uid,(v=e.originalList).length&&!t||(v=[{createdAt:""}]),f=v.slice(-1)[0].createdAt||"",h={params:{uid:o,token:n,device_id:u,targetUid:d,before:f,limit:20,order:"createdAt",src:"ios",type:"post"}},a.next=8,p.a.getEntryBySelf(h);case 8:1===(_=a.sent).s&&(m=_.d.entrylist?_.d.entrylist:[],e.originalList=t?m:e.originalList.concat(m.slice(1)));case 10:case"end":return a.stop()}},a,e)}))()},handleGoBack:function(){this.$router.go(-1)},handlePullDown:function(){this.getEntryBySelf(!0)},handlePullUp:function(){this.getEntryBySelf()}},computed:i()({},Object(v.b)(["auth"]))},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"original"},[a("v-header",{attrs:{title:"原创文章"},on:{goBack:t.handleGoBack}}),t._v(" "),t.originalList.length?a("scroll",{ref:"scroll",staticClass:"scroll",attrs:{data:t.originalList,scrollbar:t.scrollbarObj,pullDownRefresh:t.pullDownRefreshObj,pullUpLoad:t.pullUpLoadObj},on:{pullingDown:t.handlePullDown,pullingUp:t.handlePullUp}},[a("item-panel",{attrs:{timeline:t.originalList}})],1):a("div",{staticClass:"no-more"},[a("div",{staticClass:"icon"},[a("svg-icon",{attrs:{iconClass:"file"}})],1),t._v(" "),a("p",{staticClass:"text"},[t._v("没有发布过原创文章呢")])])],1)},staticRenderFns:[]};var m=a("VU/8")(h,_,!1,function(t){a("kUdk")},"data-v-41a7719b",null);e.default=m.exports},kUdk:function(t,e){},tLoY:function(t,e){}});
//# sourceMappingURL=3.c660ca134120e8eab415.js.map