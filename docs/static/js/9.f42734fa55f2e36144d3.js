webpackJsonp([9],{fWGP:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Xxa5"),r=n.n(a),s=n("Dd8w"),i=n.n(s),o=n("exGp"),c=n.n(o),l=(n("7+uW"),n("NydE")),u=n("/mXm"),h=n("H868"),d=n("P9l9"),p=n("NYxO"),f=n("vsZy"),m={name:"Search",components:{SearchSwiper:l.a,HotRecomment:u.a,Scroll:h.a},data:function(){return{bannerList:[],hasRightIcon:!1,rankList:[]}},mixins:[f.a],mounted:function(){this.getBannerImgList(),this.getEntryByRank(!0)},methods:{getBannerImgList:function(){var t=this;return c()(r.a.mark(function e(){var n,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={params:i()({position:"explore",page:0,pageSize:20,platform:"ios",src:"ios"},t.auth)},e.next=3,d.a.getBannerImgList(n);case 3:1===(a=e.sent).s&&(t.bannerList=a.d.banner);case 5:case"end":return e.stop()}},e,t)}))()},getEntryByRank:function(t){var e=this;return c()(r.a.mark(function n(){var a,s,i,o,c,l,u,h,p,f,m,v;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.auth?e.auth:"",s=a.token,i=void 0===s?"":s,o=a.uid,c=void 0===o?"unlogin":o,l=a.device_id,u=void 0===l?"":l,(h=e.rankList).length&&!t||(h=[{rankIndex:""}]),p=h.slice(-1)[0].rankIndex||"",f={params:{src:"ios",limit:20,uid:c,device_id:u,token:i,before:p}},n.next=7,d.a.getEntryByRank(f);case 7:1===(m=n.sent).s&&(v=m.d&&m.d.entrylist||[],e.rankList=t?v:e.rankList.concat(v.slice(1)));case 9:case"end":return n.stop()}},n,e)}))()},handleToDetail:function(t){this.$router.push({path:"detail",query:{id:t.id,type:t.type}})},handleToSearchDetail:function(){this.$router.push({path:"search/searchdetail"})},handlePullUp:function(){this.getEntryByRank()},handlePullDown:function(){this.getEntryByRank(!0)}},computed:i()({},Object(p.b)(["auth"]))},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search"},[n("header",{staticClass:"header",on:{click:t.handleToSearchDetail}},[n("input",{attrs:{type:"text",placeholder:"搜索",readonly:""}}),t._v(" "),n("svg-icon",{staticClass:"icon",attrs:{iconClass:"search"}})],1),t._v(" "),n("scroll",{ref:"scroll",staticClass:"scroll",attrs:{data:t.rankList,scrollbar:t.scrollbarObj,pullDownRefresh:t.pullDownRefreshObj,pullUpLoad:t.pullUpLoadObj},on:{pullingDown:t.handlePullDown,pullingUp:t.handlePullUp}},[n("div",{staticClass:"content"},[n("search-swiper",{attrs:{list:t.bannerList}}),t._v(" "),n("hot-recomment",{staticClass:"hot_recomment",attrs:{recomment:t.rankList,hasRight:t.hasRightIcon,iconName:"hot-red"},on:{toDetail:t.handleToDetail}},[n("span",{staticClass:"hot",attrs:{slot:"text"},slot:"text"},[t._v("热门文章")])])],1)]),t._v(" "),n("router-view")],1)},staticRenderFns:[]};var g=n("VU/8")(m,v,!1,function(t){n("sc7+")},"data-v-6cca25be",null);e.default=g.exports},"sc7+":function(t,e){}});
//# sourceMappingURL=9.f42734fa55f2e36144d3.js.map