webpackJsonp([17],{"2VQZ":function(t,e){},PBmK:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Xxa5"),l=a.n(n),s=a("exGp"),i=a.n(s),r=a("teIl"),c=a("/mXm"),u=a("H868"),o=a("P9l9"),p=a("oAV5"),h=a("vsZy"),d={name:"SearchDetail",components:{VHeader:r.a,Recomment:c.a,Scroll:u.a},mixins:[h.a],data:function(){return{hasTitle:!1,inputValue:"",listData:[],pageNum:0,pullUp:!0}},methods:{getSearchData:function(t){var e=this;return i()(l.a.mark(function a(){var n,s,i;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t||e.pageNum++,n=e.pageNum,s={params:{page:n,query:e.inputValue,src:"ios",raw_result:!1}},a.next=5,o.a.getSearchData(s);case 5:1===(i=a.sent).s&&(e.listData=t?i.d:e.listData.concat(i.d.slice(1)),i.d.length||(e.pullUp=!1,e.pageNum=0));case 7:case"end":return a.stop()}},a,e)}))()},handleSearch:Object(p.a)(function(){this.getSearchData(!0)}),handleToSearch:function(){this.$router.go(-1)},handleClearInput:function(){this.inputValue=""},handlePullDown:function(){this.getSearchData(!0)},handlePullUp:function(){this.pullUp?this.getSearchData():this.$refs.scroll.forceUpdate()},handleToDetail:function(t){this.$router.push({path:"detail",query:{id:t.id,type:t.type}})}},computed:{isShow:function(){return!!this.inputValue}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search-detail"},[a("v-header",{attrs:{title:"搜索"},on:{goBack:t.handleToSearch}}),t._v(" "),a("div",{staticClass:"search-ipt"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],staticClass:"input",attrs:{type:"text",placeholder:"搜索"},domProps:{value:t.inputValue},on:{input:[function(e){e.target.composing||(t.inputValue=e.target.value)},t.handleSearch]}}),t._v(" "),a("svg-icon",{staticClass:"s-icon",attrs:{iconClass:"search"}}),t._v(" "),t.isShow?a("span",{staticClass:"c-icon",on:{click:t.handleClearInput}},[a("svg-icon",{attrs:{iconClass:"clear"}})],1):t._e()],1),t._v(" "),a("scroll",{ref:"scroll",staticClass:"scroll",attrs:{data:t.listData,pullDownRefresh:t.pullDownRefreshObj,pullUpLoad:t.pullUpLoadObj},on:{pullingDown:t.handlePullDown,pullingUp:t.handlePullUp}},[t.listData.length?a("recomment",{attrs:{hasTitle:t.hasTitle,recomment:t.listData},on:{toDetail:t.handleToDetail}}):t._e()],1)],1)},staticRenderFns:[]};var f=a("VU/8")(d,m,!1,function(t){a("2VQZ")},"data-v-33998bc7",null);e.default=f.exports}});
//# sourceMappingURL=17.a06ca34c27c69460ecfb.js.map