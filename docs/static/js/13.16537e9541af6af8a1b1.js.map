{"version":3,"sources":["webpack:///src/pages/brochure/component/All.vue","webpack:///./src/pages/brochure/component/All.vue?ceb3","webpack:///./src/pages/brochure/component/All.vue"],"names":["All","name","data","pageNum","brochureList","mixins","components","Scroll","mounted","this","getBrochureInfo","methods","reload","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","res","wrap","_context","prev","next","params","extends_default","src","auth","api","sent","s","d","concat","slice","$refs","scroll","forceUpdate","stop","handlePullDown","handlePullUp","computed","Object","vuex_esm","component_All","render","_vm","_h","$createElement","_c","_self","ref","staticClass","attrs","scrollbar","scrollbarObj","pullDownRefresh","pullDownRefreshObj","pullUpLoad","pullUpLoadObj","on","pullingDown","pullingUp","_l","item","key","_id","directives","rawName","value","expression","alt","_v","_s","title","userData","username","lastSectionCount","buyCount","price","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"kOAiCAA,GACAC,KAAA,MACAC,KAFA,WAGA,OACAC,QAAA,EACAC,kBAGAC,kBAAA,GACAC,YACAC,SAAA,GAEAC,QAZA,WAaAC,KAAAC,iBAAA,IAEAC,SACAD,gBADA,SACAE,GAAA,IAAAC,EAAAJ,KAAA,OAAAK,IAAAC,EAAAC,EAAAC,KAAA,SAAAC,IAAA,IAAAf,EAAAD,EAAAiB,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAEAX,GACAC,EAAAV,UAEAA,EAAAU,EAAAV,QACAD,GACAsB,OAAAC,KACAC,IAAA,MACAvB,WACAU,EAAAc,OAVAN,EAAAE,KAAA,EAaAK,EAAA,EAAAlB,gBAAAR,GAbA,OAcA,KADAiB,EAbAE,EAAAQ,MAcAC,EACAjB,EAAAT,aAAAQ,EAAAO,EAAAY,EAAAlB,EAAAT,aAAA4B,OAAAb,EAAAY,EAAAE,MAAA,IAEApB,EAAAqB,MAAAC,OAAAC,cAjBA,wBAAAf,EAAAgB,SAAAnB,EAAAL,KAAAC,IAoBAwB,eArBA,WAsBA7B,KAAAC,iBAAA,IAEA6B,aAxBA,WAyBA9B,KAAAC,oBAGA8B,SAAYf,OACZgB,OAAAC,EAAA,EAAAD,EACA,WC3EeE,GADEC,OAFjB,WAA0B,IAAAC,EAAApC,KAAaqC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,UAAoBE,IAAA,SAAAC,YAAA,SAAAC,OAAyClD,KAAA2C,EAAAzC,aAAAiD,UAAAR,EAAAS,aAAAC,gBAAAV,EAAAW,mBAAAC,WAAAZ,EAAAa,eAA6HC,IAAKC,YAAAf,EAAAP,eAAAuB,UAAAhB,EAAAN,gBAA+DS,EAAA,OAAYG,YAAA,OAAkBN,EAAAiB,GAAAjB,EAAA,sBAAAkB,GAA0C,OAAAf,EAAA,OAAiBgB,IAAAD,EAAAE,IAAAd,YAAA,SAAgCH,EAAA,OAAYG,YAAA,SAAmBH,EAAA,OAAYkB,aAAajE,KAAA,OAAAkE,QAAA,SAAAC,MAAAL,EAAA,IAAAM,WAAA,aAAoEjB,OAASkB,IAAA,QAAUzB,EAAA0B,GAAA,KAAAvB,EAAA,OAA0BG,YAAA,QAAkBH,EAAA,OAAYG,YAAA,UAAoBN,EAAA0B,GAAA1B,EAAA2B,GAAAT,EAAAU,UAAA5B,EAAA0B,GAAA,KAAAvB,EAAA,OAAqDG,YAAA,WAAqBN,EAAA0B,GAAA1B,EAAA2B,GAAAT,EAAAW,SAAAC,aAAA9B,EAAA0B,GAAA,KAAAvB,EAAA,OAAiEG,YAAA,WAAqBN,EAAA0B,GAAA1B,EAAA2B,GAAAT,EAAAa,kBAAA,QAAA/B,EAAA2B,GAAAT,EAAAc,UAAA,YAAAhC,EAAA0B,GAAA,KAAAvB,EAAA,OAAuGG,YAAA,UAAoBH,EAAA,QAAaG,YAAA,UAAoBN,EAAA0B,GAAA,IAAA1B,EAAA2B,GAAAT,EAAAe,oBAEt9BC,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACElF,EACA2C,GATF,EAVA,SAAAwC,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/13.16537e9541af6af8a1b1.js","sourcesContent":["<template>\r\n  <scroll \r\n      ref=\"scroll\"\r\n      class=\"scroll\"\r\n      :data=\"brochureList\"\r\n      :scrollbar=\"scrollbarObj\"\r\n      :pullDownRefresh=\"pullDownRefreshObj\"\r\n      :pullUpLoad=\"pullUpLoadObj\"\r\n      @pullingDown=\"handlePullDown\"\r\n      @pullingUp=\"handlePullUp\">\r\n    <div class=\"all\">\r\n      <div class=\"card\" v-for=\"item in brochureList\" :key=\"item._id\">\r\n        <div class=\"left\">\r\n          <img v-lazy=\"item.img\" alt=\"\">\r\n        </div>\r\n        <div class=\"mid\">\r\n          <div class=\"title\">{{item.title}}</div>\r\n          <div class=\"author\">{{item.userData.username}}</div>\r\n          <div class=\"number\">{{item.lastSectionCount}}小节 · {{item.buyCount}}人已购买</div>\r\n        </div>\r\n        <div class=\"right\">\r\n          <span class=\"money\">¥{{item.price}}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </scroll>\r\n</template>\r\n\r\n<script>\r\nimport API from 'api/api'\r\nimport { mapGetters } from 'vuex'\r\nimport Scroll from 'components/Scroll'\r\nimport { scrollMixin } from 'utils/mixin'\r\nexport default {\r\n  name: 'All',\r\n  data() {\r\n    return {\r\n      pageNum: 1,\r\n      brochureList: []\r\n    }\r\n  },\r\n  mixins: [scrollMixin],\r\n  components: {\r\n    Scroll\r\n  },\r\n  mounted() {\r\n    this.getBrochureInfo(true)\r\n  },\r\n  methods: {\r\n    async getBrochureInfo(reload) {\r\n      // 下拉刷新页数自增\r\n      if (!reload) {\r\n        this.pageNum ++\r\n      }\r\n      let pageNum = this.pageNum\r\n      let data = {\r\n        params: {\r\n          src: 'ios',\r\n          pageNum: pageNum,\r\n          ...this.auth\r\n        }\r\n      }\r\n      let res = await API.getBrochureInfo(data)\r\n      if (res.s === 1) {\r\n        this.brochureList = reload ? res.d : this.brochureList.concat(res.d.slice(1))\r\n      } else {\r\n        this.$refs.scroll.forceUpdate()\r\n      }\r\n    },\r\n    handlePullDown() {\r\n      this.getBrochureInfo(true)\r\n    },\r\n    handlePullUp() {\r\n      this.getBrochureInfo()\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'auth'\r\n    ])\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  @import '~style/mixin.less';\r\n  .scroll {\r\n    height: calc(100vh - 200px);\r\n    overflow: hidden;\r\n    .all {\r\n      position: relative;\r\n      width: 100%;\r\n      background-color: #fff;\r\n      .card {\r\n        padding: 24px;\r\n        border-bottom: 1px solid @border-color;\r\n        .flex();\r\n        .left {\r\n          margin-right: 20px;\r\n          flex: 1;\r\n          align-self: flex-start;\r\n          height: 100%;\r\n          box-shadow:0 0 5px 5px rgb(229, 231, 231);\r\n          img {\r\n            width: 140px;\r\n            height: 190px;\r\n          }\r\n        }\r\n        .mid {\r\n          margin-right: 20px;\r\n          flex: 3;\r\n          align-self: flex-start;\r\n          height: 100%;\r\n          .title {\r\n            font-size: 32px;\r\n            margin-bottom: 30px;\r\n          }\r\n          .author {\r\n            font-size: 28px;\r\n            margin-bottom: 30px;\r\n          }\r\n          .number {\r\n            font-size: 24px;\r\n            color: @font-color;\r\n          }\r\n        }\r\n        .right {\r\n          flex: 1;\r\n          height: 100%;\r\n          .money {\r\n            display: block;\r\n            width: 140px;\r\n            height: 60px;\r\n            line-height: 60px;\r\n            text-align: center;\r\n            font-size: 28px;\r\n            color: @base-color;\r\n            border-radius: 50px;\r\n            background-color: #f0f7ff;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/brochure/component/All.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('scroll',{ref:\"scroll\",staticClass:\"scroll\",attrs:{\"data\":_vm.brochureList,\"scrollbar\":_vm.scrollbarObj,\"pullDownRefresh\":_vm.pullDownRefreshObj,\"pullUpLoad\":_vm.pullUpLoadObj},on:{\"pullingDown\":_vm.handlePullDown,\"pullingUp\":_vm.handlePullUp}},[_c('div',{staticClass:\"all\"},_vm._l((_vm.brochureList),function(item){return _c('div',{key:item._id,staticClass:\"card\"},[_c('div',{staticClass:\"left\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.img),expression:\"item.img\"}],attrs:{\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"mid\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('div',{staticClass:\"author\"},[_vm._v(_vm._s(item.userData.username))]),_vm._v(\" \"),_c('div',{staticClass:\"number\"},[_vm._v(_vm._s(item.lastSectionCount)+\"小节 · \"+_vm._s(item.buyCount)+\"人已购买\")])]),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_c('span',{staticClass:\"money\"},[_vm._v(\"¥\"+_vm._s(item.price))])])])}))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3c3255f2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/brochure/component/All.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3c3255f2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":75}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./All.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./All.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./All.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3c3255f2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./All.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3c3255f2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/brochure/component/All.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}